(this["webpackJsonpnote-react"]=this["webpackJsonpnote-react"]||[]).push([[0],{43:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(3),s=n.n(a),i=n(28),c=n.n(i),r=n(7),o=(n(43),n(2));var l=function(e){var t=e.isSelected,n=e.title,a=void 0===n?"Empty":n,s=e.time,i=e.text,c=void 0===i?"Write Something here...":i,l=e.id,d=e.setSide,u=e.isEdit,b=e.isCreate,j=Object(r.a)(t,2),O=j[0],h=j[1],v=5===s.length?29:22;return console.log("Text",c),Object(o.jsxs)("div",{className:"list-item ".concat(O.is&&O.id===l&&"selected"),onClick:function(){u||b||(h({is:!0,id:l}),d(!0))},children:[Object(o.jsx)("h4",{className:"list-item__title",children:a.length>=35?a.substr(0,35)+"...":a}),Object(o.jsx)("span",{className:"list-item__data",children:s}),Object(o.jsx)("span",{className:"list-item__text",children:c.length>v?c.substr(0,v)+"...":c})]})},d=function(e,t){var n=function(e){var t=[],n=e.replace(/[^a-zA-Z0-9\s\n]/g,""),a=n.split("").filter((function(e){if("\n"!==e&&" "!==e)return e}));console.log("RawText",n);for(var s=0;s<n.length;s++)0===s&&" "===n[s]||"\n"===n[s-1]&&" "===n[s]||" "===n[s]&&" "===n[s-1]||t.push(n[s]);return console.log("PlainText",a),console.log("PlainHard",t),n}(e),a=n.split(/\r?\n/).filter((function(e){return""!==e}));if(console.log("TitleLength",a),t||0!==a.length)return t?a[0]:n.substr(a[0].length)},u=function(e){var t=new Date(e).getDate(),n=new Date(e).getMonth(),a=new Date(e).getFullYear(),s=new Date(e).getHours(),i=new Date(e).getMinutes(),c=new Date(Date.now()).getDate();return t===c?"".concat(1===s.toString().length?"0"+s:s,":").concat(1===i.toString().length?"0"+i:i):t<c?"".concat(1===t.toString().length?"0"+t:t,".").concat(1===n.toString().length?"0"+n:n,".").concat(a):void 0},b=s.a.createContext(null);var j=function(){var e=Object(a.useContext)(b),t=e.data,n=e.isSelected,s=e.isSide,i=e.isEdit,c=e.isCreate,j=Object(r.a)(s,2)[1],O=Object(r.a)(i,1)[0],h=Object(r.a)(c,1)[0];return console.log("Data",t),Object(o.jsx)("div",{className:"sidebar-list list",children:null===t||void 0===t?void 0:t.sort((function(e,t){return new Date(t.date)-new Date(e.date)})).map((function(e){return Object(o.jsx)(l,{title:d(e.text,!0),text:d(e.text,!1),time:u(e.date),isSelected:n,setSide:j,id:e.id,isEdit:O.is,isCreate:h},e.id)}))})};var O=function(e){var t=e.side;return Object(o.jsx)("div",{className:"content-sidebar sidebar ".concat(t?"hide":""),children:Object(o.jsx)(j,{})})},h=n(13),v=n.n(h),x=n(24),f=new(n(26).default)("listDb");f.version(1).stores({notes:"++id,text"});var m=function(){var e=Object(x.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.notes.delete(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(x.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.notes.add({date:Date.now(),text:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(x.a)(v.a.mark((function e(t,n,a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.notes.update(n,{date:a,text:t});case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();var g=function(e){var t=e.item,n=e.forEdit,s=Object(a.useContext)(b).area,i=Object(r.a)(s,2),c=i[0],l=i[1],d=Object(a.useState)(n?t.text:""),u=Object(r.a)(d,2),j=u[0],O=u[1];return Object(a.useEffect)((function(){n&&_(j,t.id,Date.now())}),[n,null===t||void 0===t?void 0:t.id,j]),Object(o.jsx)("div",{className:"workspace-editarea",children:Object(o.jsx)("textarea",{className:"workspace-editarea__text",value:n?j:c,onChange:function(e){n?O(e.target.value):l(e.target.value)}})})},N=n(35),S=n(36);var w=function(e){var t=e.time,n=e.text;return Object(o.jsxs)("div",{className:"workspace-renderarea",children:[Object(o.jsx)("h5",{className:"workspace-renderarea__time",children:t.toString().substr(0,24)}),Object(o.jsx)(N.a,{className:"workspace-renderarea__text",children:n,remarkPlugins:[S.a]})]})},C=function(e,t){return e.filter((function(e){return e.id===t.id}))[0]},k=n(23);var D=function(){var e=Object(a.useContext)(b).isCreate,t=Object(r.a)(e,2)[1];return Object(o.jsx)("div",{className:"workspace-emptyarea",children:Object(o.jsx)(k.a,{className:"workspace-emptyarea__icon",onClick:function(){return t(!0)}})})};var E=function(e){var t=e.side,n=Object(a.useContext)(b),s=n.data,i=n.isSelected,c=n.isEdit,l=n.isCreate,d=Object(r.a)(i,1)[0],u=Object(r.a)(c,1)[0],j=Object(r.a)(l,1)[0];return Object(o.jsx)("div",{className:"content-workspace workspace ".concat(!t&&(null===s||void 0===s?void 0:s.length)>0?"hide":""),children:j?Object(o.jsx)(g,{forEdit:!1}):u.is?Object(o.jsx)(g,{item:C(s,u),forEdit:!0}):d.is?Object(o.jsx)(w,{text:C(s,d).text,time:new Date(C(s,d).date)}):Object(o.jsx)(D,{})})};n(50);var y=function(){var e=Object(a.useContext)(b),t=e.data,n=e.isSide,s=Object(r.a)(n,1)[0];return Object(o.jsxs)("div",{className:"content",children:[(null===t||void 0===t?void 0:t.length)>0&&Object(o.jsx)(O,{side:s}),Object(o.jsx)(E,{side:s})]})},H=n(16),I=n(19),T=n(33);var P=function(e){var t=e.setIsOpen,n=e.selected,a=e.setSelected,s=e.setSide,i=e.isInit,c=Object(r.a)(i,2),l=c[0],d=c[1];return Object(o.jsx)("div",{className:"modal",children:Object(o.jsxs)("div",{className:"modal-form form",children:[Object(o.jsx)("h2",{className:"form__title",children:"Are you sure?"}),Object(o.jsxs)("div",{className:"form-buttons",children:[Object(o.jsx)("button",{onClick:function(){m(n.id),t(!1),a({is:!1,id:null}),s(!1),l&&d(!1)},className:"form-buttons_btn form-buttons__agree",children:Object(o.jsx)(H.c,{})}),Object(o.jsx)("button",{onClick:function(){return t(!1)},className:"form-buttons_btn form-buttons__decline",children:Object(o.jsx)(H.d,{})})]})]})})};var A=function(){var e=Object(a.useContext)(b),t=e.data,n=e.isSelected,s=e.isEdit,i=e.isCreate,c=e.area,l=e.isSide,d=e.isInit,u=Object(r.a)(n,2),j=u[0],O=u[1],h=Object(r.a)(s,2),v=h[0],x=h[1],f=Object(r.a)(i,2),m=f[0],_=f[1],g=Object(r.a)(c,2),N=g[0],S=g[1],w=Object(r.a)(l,2),C=w[0],D=w[1],E=Object(a.useState)(!1),y=Object(r.a)(E,2),A=y[0],L=y[1];return Object(o.jsxs)("div",{className:"header-buttons",children:[(null===t||void 0===t?void 0:t.length)>0&&Object(o.jsx)("button",{disabled:!(!v.is&&!m),type:"button",className:"header-buttons__btn header-buttons__list ".concat(v.is||m?"disabled":""),onClick:function(){D(!C)},title:"List",children:Object(o.jsx)(T.a,{})}),Object(o.jsx)("button",{disabled:!v.is&&!m,type:"button",className:"header-buttons__btn header-buttons__save ".concat(v.is||m?"":"disabled"),onClick:function(){if(m)return p(N),S(""),_(!1),void D(!C);var e=v.id;x({is:!1,id:null}),O({is:!0,id:e})},title:"Save",children:Object(o.jsx)(I.b,{})}),Object(o.jsx)("button",{disabled:!!j.is||(!!v.is||!!m),type:"button",className:"header-buttons__btn header-buttons__create ".concat(j.is||v.is||m?"disabled":""),onClick:function(){D(!C),O({is:!1,id:null}),_(!0)},title:"Create",children:Object(o.jsx)(k.a,{})}),Object(o.jsx)("button",{disabled:!(j.is||v.is&&m),className:"header-buttons__btn header-buttons__edit ".concat(j.is||v.is&&m?"":"disabled"),onClick:function(){x({is:!0,id:j.id}),O({is:!1,id:null})},title:"Edit",children:Object(o.jsx)(H.b,{})}),Object(o.jsx)("button",{disabled:!(j.is&&!v.is||m),className:"header-buttons__btn header-buttons__delete ".concat(j.is&&!v.is||m?"":"disabled"),onClick:function(){if(m)return _(!1),O({is:!1,id:null}),void S("");L(!0)},title:"Delete",children:Object(o.jsx)(H.a,{})}),Object(o.jsx)("a",{className:"header-buttons__btn header-buttons__help",href:"https://commonmark.org/help/",target:"_blank",rel:"noreferrer",title:"Help",children:Object(o.jsx)(I.a,{})}),A&&Object(o.jsx)(P,{setIsOpen:L,selected:j,setSelected:O,setSide:D,isInit:d})]})};var L=function(){return Object(o.jsx)("div",{className:"header-title",children:Object(o.jsx)("h4",{className:"header-title__text\t",children:"Note App"})})};var M=function(){var e=Object(a.useContext)(b),t=e.data,n=e.isSelected,s=Object(a.useState)(""),i=Object(r.a)(s,2),c=i[0],l=i[1],d=Object(r.a)(n,2)[1];return Object(a.useEffect)((function(){""!==c?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;null===t||void 0===t||t.forEach((function(t){t.text.toLowerCase().includes(e)&&n({is:!0,id:t.id})}))}(c,t,d):d({is:!1,id:null})}),[c,t,d]),Object(o.jsxs)("div",{className:"header-search",children:[Object(o.jsx)(I.c,{className:"header-search__label"}),Object(o.jsx)("input",{className:"header-search__input",value:c,type:"text",onChange:function(e){return l(e.target.value)},placeholder:"Enter a query..."})]})};n(51);var J=function(){return Object(o.jsxs)("div",{className:"header",children:[Object(o.jsx)(A,{}),Object(o.jsx)(L,{}),Object(o.jsx)(M,{})]})},q=n(34);var z=function(){var e=Object(q.useLiveQuery)((function(){var e;return null===(e=f.notes)||void 0===e?void 0:e.toArray()}),[]),t=Object(a.useState)({is:!1,id:null}),n=Object(r.a)(t,2),s=n[0],i=n[1],c=Object(a.useState)({is:!1,id:null}),l=Object(r.a)(c,2),d=l[0],u=l[1],j=Object(a.useState)(!1),O=Object(r.a)(j,2),h=O[0],v=O[1],x=Object(a.useState)(""),m=Object(r.a)(x,2),_=m[0],g=m[1],N=Object(a.useState)(!1),S=Object(r.a)(N,2),w=S[0],C=S[1],k=Object(a.useState)(!0),D=Object(r.a)(k,2),E=D[0],H=D[1];return Object(a.useEffect)((function(){if(void 0!==e&&0===e.length){if(!E)return;H(!1),p("# TIPS\n---\n'# Header ' -> Header \u21161\n# Header\n'## Header ' -> Header \u21162\n## Header\nToo see more examples use button help(?)")}}),[e,E]),Object(o.jsx)("div",{className:"app",onClick:function(e){var t,n;"path"!==e.target.nodeName&&"svg"!==e.target.nodeName&&(((null===(t=e.target)||void 0===t?void 0:t.className.includes("app"))||(null===(n=e.target)||void 0===n?void 0:n.className.includes("sidebar")))&&i({is:!1,id:null}))},children:Object(o.jsx)("div",{className:"app-wrapper",children:Object(o.jsxs)(b.Provider,{value:{data:e,isSelected:[s,i],isEdit:[d,u],isCreate:[h,v],area:[_,g],isSide:[w,C],isInit:[E,H]},children:[Object(o.jsx)(J,{}),Object(o.jsx)(y,{})]})})})};c.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(z,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.6c4e5a27.chunk.js.map